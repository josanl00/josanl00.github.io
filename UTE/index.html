<!doctype html>
<html lang='es'>

<meta charset="utf-8">


<script type="text/javascript" src="static/bower_components/jquery/dist/jquery.min.js" charset="utf-8"></script>
<script type="text/javascript" src="static/bower_components/handlebars/handlebars.min.js" charset="utf-8"></script>
<script type="text/javascript" src="static/bower_components/bootstrap/dist/js/bootstrap.min.js" charset="utf-8"></script>
<link href="static/bower_components/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet" type="text/css" charset="utf-8"/>
<link href="static/bower_components/bootstrap/dist/css/bootstrap-theme.min.css" rel="stylesheet" type="text/css" charset="utf-8"/>
<script type="text/javascript" src="static/bower_components/d3/d3.min.js" charset="utf-8"></script>
<link href="static/bower_components/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css" charset="utf-8"/>

<script src="static/bower_components/src/ematters_UTE.js" charset="utf-8"></script>

<link href="static/bower_components/src/ematters_UTE.css" rel="stylesheet" type="text/css" charset="utf-8"/>


<body>


<div class="container text-center">


<!--HTML: CT105 service-->
<h1>&nbsp;Tu consumo</h1>
<div class="chart-ct105" id="chartct105"></div>
<!--JS: CT105 service-->
<script>
    /*var result_ct105 = {"diffAverageConsumption": -31.4240242081433, "criteriaSelected": "buildingId", "numberCustomersEff": 21.0, "consumption": 189.998, "companyId": 1234509876.0, "averageEffConsumption": 155.116284761905, "consumptionNumberOfDays": 30.0, "month": 201509.0, "numberCustomers": 68.0, "averageConsumption": 277.062043676471, "diffAverageEffConsumption": 22.4874617720743, "contractId": "000db922b1fc22"};*/
    var result_ct105 = {
    "consumption" : {
        "p2" : 3808.3,
        "p3" : 5950.3,
        "p1" : 2055.1
    },
    "averageConsumption" : {
        "p2" : 1612.1,
        "p3" : 3337,
        "p1" : 956.22
    }
    };

    var ct105 = Empowering.Graphics.CT105({
        container: "div#chartct105", data: result_ct105, 
        labels: {
            0: "Grupos de similares",
            1: "Tú"
        },
        tariffs: {
            0: "P. Punta",
            1: "P. Llano",
            2: "P. Valle"
        }
    });
</script>

<!--HTML: CT202 service-->
<h1>&nbsp;¿Y los últimos 12 meses?</h1>
<div class="chart-ct202" id="chartct202a"></div>
<div class="col-xs-6">
<div class="chart-ct206" id="chartct202b_cons"></div>
</div>
<div class="col-xs-6">
<div class="chart-ct206" id="chartct202b_avg"></div>
</div>
<!--JS: CT202 service-->
<script>

/*tariff, p1, p1, p1, p1, p1, p1, p1, p1, p1, p1, p1, p1
month, 201412.0, 201501.0, 201502.0, 201503.0, 201504.0, 201505.0, 201506.0, 201507.0, 201508.0, 201509.0, 201510.0, 201511.0
consumption, 2055.1, 2055.1, 2055.1, 1849.59, 1757.1105, 1669.254975, 1585.792226, 1506.502615, 1431.177484, 1359.61861, 2055.1, 2055.1
averageConsumption, 2246, 2246, 2246, 2021.4, 1920.33, 1824.3135, 1733.097825, 1646.442934,1564.120787, 1485.914748, 2246, 2246
tariff, p2, p2, p2, p2, p2, p2, p2, p2, p2, p2, p2, p2
month, 201412.0, 201501.0, 201502.0, 201503.0, 201504.0, 201505.0, 201506.0, 201507.0, 201508.0, 201509.0, 201510.0, 201511.0
consumption, 3808.3, 3808.3, 3808.3, 3427.47, 3256.0965, 3093.291675, 2938.627091, 2791.695737, 2652.11095, 2519.505402, 3808.3, 3808.3
averageConsumption, 3856.8, 3856.8, 3856.8, 3471.12, 3297.564, 3132.6858, 2976.05151, 2827.248935, 2685.886488, 2551.592163, 3856.8, 3856.8
tariff, p3, p3, p3, p3, p3, p3, p3, p3, p3, p3, p3, p3
month, 201412.0, 201501.0, 201502.0, 201503.0, 201504.0, 201505.0, 201506.0, 201507.0, 201508.0, 201509.0, 201510.0, 201511.0
consumption, 5950.3, 5950.3, 5950.3, 5355.27, 5087.5065, 4833.131175, 4591.474616, 4361.900885, 4143.805841, 3936.615549, 5950.3, 5950.3
averageConsumption, 7090.5, 7090.5, 7090.5, 6381.45, 6062.3775, 5759.258625, 5471.295694, 5197.730909, 4937.844364, 4690.952145, 7090.5, 7090.5*/

    var result_ct202 = {
        "monthlyStats": [{
            "month": 201412,
            "p1_cons": 2055.1,
            "p2_cons": 3808.3,
            "p3_cons": 5950.3,
            "p1_avg": 2246,
            "p2_avg": 3856.8,
            "p3_avg": 7090.5
        }, {
            "month": 201501,
            "p1_cons": 2055.1,
            "p2_cons": 3808.3,
            "p3_cons": 5950.3,
            "p1_avg": 2246,
            "p2_avg": 3856.8,
            "p3_avg": 7090.5
        }, {
            "month": 201502,
            "p1_cons": 2055.1,
            "p2_cons": 3808.3,
            "p3_cons": 5950.3,
            "p1_avg": 2246,
            "p2_avg": 3856.8,
            "p3_avg": 7090.5
        }, {
            "month": 201503,
            "p1_cons": 1849.59,
            "p2_cons": 3427.47,
            "p3_cons": 5355.27,
            "p1_avg": 2021.4,
            "p2_avg": 3471.12,
            "p3_avg": 6381.45
        }, {
            "month": 201504,
            "p1_cons": 1757.1105,
            "p2_cons": 3256.0965,
            "p3_cons": 5087.5065,
            "p1_avg": 1920.33,
            "p2_avg": 3297.564,
            "p3_avg": 6062.3775
        }, {
            "month": 201505,
            "p1_cons": 1669.254975,
            "p2_cons": 3093.291675,
            "p3_cons": 4833.131175,
            "p1_avg": 1824.3135,
            "p2_avg": 3132.6858,
            "p3_avg": 5759.258625
        }, {
            "month": 201506,
            "p1_cons": 1585.792226,
            "p2_cons": 2938.627091,
            "p3_cons": 4591.474616,
            "p1_avg": 1733.097825,
            "p2_avg": 2976.05151,
            "p3_avg": 5471.295694
        }, {
            "month": 201507,
            "p1_cons": 1506.502615,
            "p2_cons": 2791.695737,
            "p3_cons": 4361.900885,
            "p1_avg": 1646.442934,
            "p2_avg": 2827.248935,
            "p3_avg": 5197.730909
        }, {
            "month": 201508,
            "p1_cons": 1431.177484,
            "p2_cons": 2652.11095,
            "p3_cons": 4143.805841,
            "p1_avg": 1564.120787,
            "p2_avg": 2685.886488,
            "p3_avg": 4937.844364
        }, {
            "month": 201509,
            "p1_cons": 1359.61861,
            "p2_cons": 2519.505402,
            "p3_cons": 3936.615549,
            "p1_avg": 1485.914748,
            "p2_avg": 2551.592163,
            "p3_avg": 4690.952145
        }, {
            "month": 201510,
            "p1_cons": 2055.1,
            "p2_cons": 3808.3,
            "p3_cons": 5950.3,
            "p1_avg": 2246,
            "p2_avg": 3856.8,
            "p3_avg": 7090.5
        }, {
            "month": 201511,
            "p1_cons": 2055.1,
            "p2_cons": 3808.3,
            "p3_cons": 5950.3,
            "p1_avg": 2246,
            "p2_avg": 3856.8,
            "p3_avg": 7090.5
        }],
        "summary": [{
            "type": "consumption",
            "p1_cons": 21434.55,
            "p2_cons": 39720.3,
            "p3_cons": 62061.2},{
            "type": "averageConsumption",
            "p1_avg": 23425.62,
            "p2_avg": 40226.15,
            "p3_avg": 73953.41}]
    };

    var ct202a = Empowering.Graphics.CT202A({
        container: "#chartct202a", data: JSON.stringify(result_ct202),
        labels: "consumo",
        units: "kWh/mes",
        types: {
                    0: "Punta",
                    1: "Valle",
                    2: "Llano"
                }
                ,
        poplabels: {
                    0: "Tarifa",
                    1: "Consumo"
                }
            });
    var ct202b_cons = Empowering.Graphics.CT202B_CONS({
        container: "#chartct202b_cons", data: JSON.stringify(result_ct202),
        //width: 150, height: 150, radius: 75, 
        types: {
                    0: "Punta",
                    1: "Valle",
                    2: "Llano"
                },
        poplabels: {
                    0: "Porcentaje",
                    1: "Consumo"
                }
            });
    var ct202b_avg = Empowering.Graphics.CT202B_AVG({
        container: "#chartct202b_avg", data: JSON.stringify(result_ct202),
        //width: 150, height: 150, radius: 75, 
        types: {
                    0: "Punta",
                    1: "Valle",
                    2: "Llano"
                },
        poplabels: {
                    0: "Porcentaje",
                    1: "Consumo"
                }
            });
</script>


<!--HTML:CT206 service-->
<h1>&nbsp;Factor de Utilización (FU)</h1>
<div class="col-xs-6">
<div class="chart-ct206" id="chartct206_cons"></div>
</div>
<div class="col-xs-6">
<div class="chart-ct206" id="chartct206_avg"></div>
</div>
<!--JS: CT206 service-->
<script>
    var result_ct206;
    var ct206_cons = Empowering.Graphics.CT206_CONS({
    container: "#chartct206_cons", data: JSON.stringify(result_ct206),
    //width: 150, height: 150, radius: 75, 
    types: {
                0: "Punta",
                1: "Valle",
                2: "Llano"
            },
    poplabels: {
                0: "Porcentaje",
                1: "Consumo"
            }
        });
    var ct206_avg = Empowering.Graphics.CT206_AVG({
    container: "#chartct206_avg", data: JSON.stringify(result_ct206),
    //width: 150, height: 150, radius: 75, 
    types: {
                0: "Punta",
                1: "Valle",
                2: "Llano"
            },
    poplabels: {
                0: "Porcentaje",
                1: "Consumo"
            }
        });
</script>


<!--HTML: CT409 service-->
<h1>&nbsp;Análisis de energía reactiva</h1>
<div id="controlPanel">
  <h1 id="stopButton" class="button">Stop</h1>
  <h1 id="slowButton" class="button">Caution</h1>
  <h1 id="goButton" class="button">Go</h1>
</div>
<div id="traffic-light">
  <div id="stopLight" class="bulb"></div>
  <div id="slowLight" class="bulb"></div>
  <div id="goLight" class="bulb"></div>
</div>
<div class="chart-ct409" id="chartct409"></div>
<!--JS: CT409 service-->
<script>
    ///TRAFFIC LIGHT (TEMPORAL INSERTION)
    ////////////////////////////////////
    document.getElementById('stopButton').onclick = illuminateRed;
    document.getElementById('slowButton').onclick = illuminateYellow;
    document.getElementById('goButton').onclick = illuminateGreen;

    function illuminateRed() {
      clearLights();
      document.getElementById('stopLight').style.backgroundColor = "red";
    }

    function illuminateYellow() {
      clearLights();
      document.getElementById('slowLight').style.backgroundColor = "yellow";
    }

    function illuminateGreen() {
      clearLights();
      document.getElementById('goLight').style.backgroundColor = "green";
    }

    function clearLights() {
      document.getElementById('stopLight').style.backgroundColor = "white";
      document.getElementById('slowLight').style.backgroundColor = "white";
      document.getElementById('goLight').style.backgroundColor = "white";
    }
    ////////////////////////////////////

    var result_ct409 = [
      {
        "month": 201412,
        "cosFiUpper": 0.92,
        "cosFiLower": 0.82,
        "cosFiAverageConsumption": 0.945005518,
        "cosFiConsumption": 0.904110097
      },
      {
        "month": 201501,
        "cosFiUpper": 0.92,
        "cosFiLower": 0.82,
        "cosFiAverageConsumption": 0.939944578,
        "cosFiConsumption": 0.916857073
      },
      {
        "month": 201502,
        "cosFiUpper": 0.92,
        "cosFiLower": 0.82,
        "cosFiAverageConsumption": 0.936086409,
        "cosFiConsumption": 0.914483737
      },
      {
        "month": 201503,
        "cosFiUpper": 0.92,
        "cosFiLower": 0.82,
        "cosFiAverageConsumption": 0.93673237,
        "cosFiConsumption": 0.902531955
      },
      {
        "month": 201504,
        "cosFiUpper": 0.92,
        "cosFiLower": 0.82,
        "cosFiAverageConsumption": 0.941044687,
        "cosFiConsumption": 0.917471903
      },
      {
        "month": 201505,
        "cosFiUpper": 0.92,
        "cosFiLower": 0.82,
        "cosFiAverageConsumption": 0.954227625,
        "cosFiConsumption": 0.894191766
      },
      {
        "month": 201506,
        "cosFiUpper": 0.92,
        "cosFiLower": 0.82,
        "cosFiAverageConsumption": 0.963066941,
        "cosFiConsumption": 0.917983548
      },
      {
        "month": 201507,
        "cosFiUpper": 0.92,
        "cosFiLower": 0.82,
        "cosFiAverageConsumption": 0.9,
        "cosFiConsumption": 0.9        
      },
      {
        "month": 201508,
        "cosFiUpper": 0.92,
        "cosFiLower": 0.82,
        "cosFiAverageConsumption": 0.959694757,
        "cosFiConsumption": 0.916915735
      },
      {
        "month": 201509,
        "cosFiUpper": 0.92,
        "cosFiLower": 0.82,
        "cosFiAverageConsumption": 0.968878352,
        "cosFiConsumption": 0.918416604
      },
      {
        "month": 201510,
        "cosFiUpper": 0.92,
        "cosFiLower": 0.82,
        "cosFiAverageConsumption": 0.960037331,
        "cosFiConsumption": 0.922714821
      },
      {
        "month": 201511,
        "cosFiUpper": 0.92,
        "cosFiLower": 0.82,
        "cosFiAverageConsumption": 0.9,
        "cosFiConsumption": 0.9
      }
    ];

    var ct409 = Empowering.Graphics.CT409({
        container: "#chartct409", data: JSON.stringify(result_ct409),
        locale: "es",
        poplabels: { 0: "CosØ" }, //width: 1040, height: 400, 
        labels: {
                    0: "Evolución CosØ de tus similares",
                    1: "Tu evolución CosØ"
                }
            });
</script>

<!--HTML: CT410 service-->
<h1>&nbsp;Análisis de potencia - 13.2 kW</h1>
<div class="chart-ct410" id="chartct410"></div>
<!--JS: CT410 service-->

<script>
    var result_ct410 = [{
        "month": 201412.0,
        "p1": 50.7,
        "p2": 25.35,
        "p3": 16.9,
        "saving": 0
      },
      {
        "month": 201501.0,
        "p1": 37.44,
        "p2": 18.72,
        "p3": 12.48,
        "saving": 3387
      },
      {
        "month": 201502.0,
        "p1": 45,
        "p2": 22.5,
        "p3": 15,
        "saving": 1349
      },
      {
        "month": 201503.0,
        "p1": 35.7,
        "p2": 17.85,
        "p3": 11.9,
        "saving": 3856.7
      },
      {
        "month": 201504.0,
        "p1": 26.76,
        "p2": 13.38,
        "p3": 8.92,
        "saving": 6267.6
      },
      {
        "month": 201505.0,
        "p1": 27.12,
        "p2": 13.56,
        "p3": 9.04,
        "saving": 6170.7
      },
      {
        "month": 201506.0,
        "p1": 25.02,
        "p2": 12.51,
        "p3": 8.34,
        "saving": 6737.1
      },
      {
        "month": 201707.0,
        "p1": 40.02,
        "p2": 20.01,
        "p3": 13.34,
        "saving": 2692
      },
      {
        "month": 201508.0,
        "p1": 33.96,
        "p2": 16.98,
        "p3": 11.32,
        "saving": 4326
      },
      {
        "month": 201509.0,
        "p1": 26.34,
        "p2": 13.17,
        "p3": 8.78,
        "saving": 6381.1
      },
      {
        "month": 201510.0,
        "p1": 26.28,
        "p2": 13.14,
        "p3": 8.76,
        "saving": 6397.3
      },
      {
        "month": 201511.0,
        "p1": 29.28,
        "p2": 14.64,
        "p3": 9.76,
        "saving": 5588.2
      }];

        var ct410 = Empowering.Graphics.CT410({
            container: '#chartct410', data: JSON.stringify(result_ct410),
            //width: 672, height: 336, 
            locale: "es", 
            units: {
                        0: "kWh",
                        1: "€"
                    },
            labels: {
                        0: "Ahorro por optimización de potencia",
                        1: "Punta",
                        2: "Llano",
                        3: "Valle"

                    }
                });
</script>


</div>


</body>